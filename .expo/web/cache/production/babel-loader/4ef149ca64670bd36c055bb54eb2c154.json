{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import times from'lodash/times';import PropTypes from'prop-types';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import Animated from\"react-native-web/dist/exports/Animated\";import PanResponder from\"react-native-web/dist/exports/PanResponder\";import Image from\"react-native-web/dist/exports/Image\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Platform from\"react-native-web/dist/exports/Platform\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";var STAR_IMAGE=require(\"./images/star.png\");var HEART_IMAGE=require(\"./images/heart.png\");var ROCKET_IMAGE=require(\"./images/rocket.png\");var BELL_IMAGE=require(\"./images/bell.png\");var TYPES={star:{source:STAR_IMAGE,color:'#f1c40f',backgroundColor:'white'},heart:{source:HEART_IMAGE,color:'#e74c3c',backgroundColor:'white'},rocket:{source:ROCKET_IMAGE,color:'#2ecc71',backgroundColor:'white'},bell:{source:BELL_IMAGE,color:'#f39c12',backgroundColor:'white'}};var SwipeRating=function(_Component){_inherits(SwipeRating,_Component);var _super=_createSuper(SwipeRating);function SwipeRating(props){var _this;_classCallCheck(this,SwipeRating);_this=_super.call(this,props);var _this$props=_this.props,onStartRating=_this$props.onStartRating,onSwipeRating=_this$props.onSwipeRating,onFinishRating=_this$props.onFinishRating,fractions=_this$props.fractions;var position=new Animated.ValueXY();var panResponder=PanResponder.create({onStartShouldSetPanResponder:function onStartShouldSetPanResponder(){return true;},onPanResponderGrant:function onPanResponderGrant(event,gesture){var newPosition=new Animated.ValueXY();var tapPositionX=gesture.x0-_this.state.centerX+gesture.dx;newPosition.setValue({x:tapPositionX,y:0});if(_this.state.isComponentMounted){_this.setState({position:newPosition,value:tapPositionX});var rating=_this.getCurrentRating(tapPositionX);if(typeof onStartRating==='function'){onStartRating(rating);}}},onPanResponderMove:function onPanResponderMove(event,gesture){var newPosition=new Animated.ValueXY();var tapPositionX=gesture.x0-_this.state.centerX+gesture.dx;newPosition.setValue({x:tapPositionX,y:0});if(_this.state.isComponentMounted){_this.setState({position:newPosition,value:tapPositionX});var rating=_this.getCurrentRating(tapPositionX);if(typeof onSwipeRating===\"function\"){onSwipeRating(rating);}}},onPanResponderRelease:function onPanResponderRelease(){var rating=_this.getCurrentRating(_this.state.value);if(rating>=_this.props.minValue){if(!fractions){_this.setCurrentRating(rating);}if(typeof onFinishRating==='function'){onFinishRating(rating);}}}});_this.state={panResponder:panResponder,position:position,display:false,isComponentMounted:false};return _this;}_createClass(SwipeRating,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;try{this.setState({display:true,isComponentMounted:true},function(){return _this2.setCurrentRating(_this2.props.startingValue);});}catch(err){console.log(err);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.startingValue!==prevProps.startingValue){this.setCurrentRating(this.props.startingValue);}}},{key:\"handleLayoutChange\",value:function handleLayoutChange(){var _this3=this;this.ratingRef.measure(function(fx,fy,width,height,px){var halfWidth=width/2;var pageXWithinWindow=px%Dimensions.get(\"window\").width;_this3.setState({centerX:pageXWithinWindow+halfWidth});});}},{key:\"getPrimaryViewStyle\",value:function getPrimaryViewStyle(){var position=this.state.position;var _this$props2=this.props,imageSize=_this$props2.imageSize,ratingCount=_this$props2.ratingCount,type=_this$props2.type;var color=TYPES[type].color;var width=position.x.interpolate({inputRange:[-ratingCount*(imageSize/2),0,ratingCount*(imageSize/2)],outputRange:[0,ratingCount*imageSize/2,ratingCount*imageSize],extrapolate:'clamp'},{useNativeDriver:true});return{backgroundColor:color,width:width,height:width?imageSize:0};}},{key:\"getSecondaryViewStyle\",value:function getSecondaryViewStyle(){var position=this.state.position;var _this$props3=this.props,imageSize=_this$props3.imageSize,ratingCount=_this$props3.ratingCount,type=_this$props3.type;var backgroundColor=TYPES[type].backgroundColor;var width=position.x.interpolate({inputRange:[-ratingCount*(imageSize/2),0,ratingCount*(imageSize/2)],outputRange:[ratingCount*imageSize,ratingCount*imageSize/2,0],extrapolate:'clamp'},{useNativeDriver:true});return{backgroundColor:backgroundColor,width:width,height:width?imageSize:0};}},{key:\"renderRatings\",value:function renderRatings(){var _this$props4=this.props,imageSize=_this$props4.imageSize,ratingCount=_this$props4.ratingCount,type=_this$props4.type,tintColor=_this$props4.tintColor;var source=TYPES[type].source;return times(ratingCount,function(index){return React.createElement(View,{key:index,style:styles.starContainer},React.createElement(Image,{source:source,style:{width:imageSize,height:imageSize,tintColor:tintColor}}));});}},{key:\"getCurrentRating\",value:function getCurrentRating(value){var _this$props5=this.props,fractions=_this$props5.fractions,imageSize=_this$props5.imageSize,ratingCount=_this$props5.ratingCount;var startingValue=ratingCount/2;var currentRating=this.props.minValue?this.props.minValue:0;if(value>ratingCount*imageSize/2){currentRating=ratingCount;}else if(value<-ratingCount*imageSize/2){currentRating=this.props.minValue?this.props.minValue:0;}else if(value<=imageSize||value>imageSize){var diff=value/imageSize;currentRating=startingValue+diff;currentRating=fractions?Number(currentRating.toFixed(fractions)):Math.ceil(currentRating);}else{currentRating=fractions?Number(startingValue.toFixed(fractions)):Math.ceil(startingValue);}if(this.props.jumpValue>0&&this.props.jumpValue<this.props.ratingCount){return Math.ceil(currentRating*(1/this.props.jumpValue))/(1/this.props.jumpValue);}else{return currentRating;}}},{key:\"setCurrentRating\",value:function setCurrentRating(rating){var _this$props6=this.props,imageSize=_this$props6.imageSize,ratingCount=_this$props6.ratingCount;var initialRating=ratingCount/2;var value=null;if(rating>ratingCount){value=ratingCount*imageSize/2;}else if(rating<0){value=-ratingCount*imageSize/2;}else if(rating<ratingCount/2||rating>ratingCount/2){value=(rating-initialRating)*imageSize;}else{value=0;}var newPosition=new Animated.ValueXY();newPosition.setValue({x:value,y:0});if(this.state.isComponentMounted){this.setState({position:newPosition,value:value});}}},{key:\"displayCurrentRating\",value:function displayCurrentRating(){var _this$props7=this.props,ratingCount=_this$props7.ratingCount,type=_this$props7.type,readonly=_this$props7.readonly,showReadOnlyText=_this$props7.showReadOnlyText,ratingTextColor=_this$props7.ratingTextColor;var color=ratingTextColor||TYPES[type].color;return React.createElement(View,{style:styles.showRatingView},React.createElement(View,{style:styles.ratingView},React.createElement(Text,{style:[styles.ratingText,{color:color}]},\"Rating:\",' '),React.createElement(Text,{style:[styles.currentRatingText,{color:color}]},this.getCurrentRating(this.state.value)),React.createElement(Text,{style:[styles.maxRatingText,{color:color}]},\"/\",ratingCount)),React.createElement(View,null,readonly&&showReadOnlyText&&React.createElement(Text,{style:[styles.readonlyLabel,{color:color}]},\"(readonly)\")));}},{key:\"render\",value:function render(){var _this4=this;var _this$props8=this.props,readonly=_this$props8.readonly,type=_this$props8.type,ratingImage=_this$props8.ratingImage,ratingColor=_this$props8.ratingColor,ratingBackgroundColor=_this$props8.ratingBackgroundColor,style=_this$props8.style,showRating=_this$props8.showRating;if(type==='custom'){var custom={source:ratingImage,color:ratingColor,backgroundColor:ratingBackgroundColor};TYPES.custom=custom;}return this.state.display?React.createElement(View,{pointerEvents:readonly?'none':'auto',style:style},showRating&&this.displayCurrentRating(),React.createElement(View,_extends({style:styles.starsWrapper},this.state.panResponder.panHandlers),React.createElement(View,{style:styles.starsInsideWrapper,onLayout:function onLayout(e){_this4.handleLayoutChange(e);},ref:function ref(view){_this4.ratingRef=view;}},React.createElement(Animated.View,{style:this.getPrimaryViewStyle()}),React.createElement(Animated.View,{style:this.getSecondaryViewStyle()})),this.renderRatings())):null;}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.setState({isComponentMounted:false});}}]);return SwipeRating;}(Component);SwipeRating.defaultProps={type:'star',ratingImage:STAR_IMAGE,ratingColor:'#f1c40f',ratingBackgroundColor:'white',ratingCount:5,showReadOnlyText:true,imageSize:40,minValue:0,jumpValue:0};export{SwipeRating as default};var styles=StyleSheet.create({starsWrapper:{flexDirection:'row',justifyContent:'center',alignItems:'center'},starsInsideWrapper:{position:'absolute',top:0,left:0,right:0,bottom:0,flexDirection:'row',justifyContent:'center',alignItems:'center'},showRatingView:{flexDirection:'column',justifyContent:'center',alignItems:'center',paddingBottom:5},ratingView:{flexDirection:'row',justifyContent:'center',alignItems:'center',paddingBottom:5},ratingText:{fontSize:15,textAlign:'center',fontFamily:Platform.OS==='ios'?'Trebuchet MS':null,color:'#34495e'},readonlyLabel:{justifyContent:'center',alignItems:'center',fontSize:12,textAlign:'center',fontFamily:Platform.OS==='ios'?'Trebuchet MS':null,color:'#34495a'},currentRatingText:{fontSize:30,textAlign:'center',fontFamily:Platform.OS==='ios'?'Trebuchet MS':null},maxRatingText:{fontSize:18,textAlign:'center',fontFamily:Platform.OS==='ios'?'Trebuchet MS':null,color:'#34495e'}});var fractionsType=function fractionsType(props,propName,componentName){if(props[propName]){var value=props[propName];if(typeof value==='number'){return value>=0&&value<=20?null:new Error(\"`\"+propName+\"` in `\"+componentName+\"` must be between 0 and 20\");}return new Error(\"`\"+propName+\"` in `\"+componentName+\"` must be a number\");}};SwipeRating.propTypes={type:PropTypes.string,ratingImage:PropTypes.node,ratingColor:PropTypes.string,ratingBackgroundColor:PropTypes.string,ratingCount:PropTypes.number,ratingTextColor:PropTypes.string,imageSize:PropTypes.number,onStartRating:PropTypes.func,onFinishRating:PropTypes.func,showRating:PropTypes.bool,style:PropTypes.object,readonly:PropTypes.bool,showReadOnlyText:PropTypes.bool,startingValue:PropTypes.number,fractions:fractionsType,minValue:PropTypes.number};","map":{"version":3,"sources":["C:/Users/21deg/OneDrive/Desktop/MBAPP/medibound/node_modules/react-native-ratings/src/SwipeRating.js"],"names":["React","Component","times","PropTypes","STAR_IMAGE","require","HEART_IMAGE","ROCKET_IMAGE","BELL_IMAGE","TYPES","star","source","color","backgroundColor","heart","rocket","bell","SwipeRating","props","onStartRating","onSwipeRating","onFinishRating","fractions","position","Animated","ValueXY","panResponder","PanResponder","create","onStartShouldSetPanResponder","onPanResponderGrant","event","gesture","newPosition","tapPositionX","x0","state","centerX","dx","setValue","x","y","isComponentMounted","setState","value","rating","getCurrentRating","onPanResponderMove","onPanResponderRelease","minValue","setCurrentRating","display","startingValue","err","console","log","prevProps","ratingRef","measure","fx","fy","width","height","px","halfWidth","pageXWithinWindow","Dimensions","get","imageSize","ratingCount","type","interpolate","inputRange","outputRange","extrapolate","useNativeDriver","tintColor","index","styles","starContainer","currentRating","diff","Number","toFixed","Math","ceil","jumpValue","initialRating","readonly","showReadOnlyText","ratingTextColor","showRatingView","ratingView","ratingText","currentRatingText","maxRatingText","readonlyLabel","ratingImage","ratingColor","ratingBackgroundColor","style","showRating","custom","displayCurrentRating","starsWrapper","panHandlers","starsInsideWrapper","e","handleLayoutChange","view","getPrimaryViewStyle","getSecondaryViewStyle","renderRatings","defaultProps","StyleSheet","flexDirection","justifyContent","alignItems","top","left","right","bottom","paddingBottom","fontSize","textAlign","fontFamily","Platform","OS","fractionsType","propName","componentName","Error","propTypes","string","node","number","func","bool","object"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport times from 'lodash/times';\nimport PropTypes from 'prop-types';\n\nimport {\n  View, Text, Animated, PanResponder, Image,\n  StyleSheet, Platform, Dimensions\n} from 'react-native';\n\n// RATING IMAGES WITH STATIC BACKGROUND COLOR (white)\nconst STAR_IMAGE = require( './images/star.png' );\nconst HEART_IMAGE = require( './images/heart.png' );\nconst ROCKET_IMAGE = require( './images/rocket.png' );\nconst BELL_IMAGE = require( './images/bell.png' );\n\nconst TYPES = {\n  star: {\n    source: STAR_IMAGE,\n    color: '#f1c40f',\n    backgroundColor: 'white'\n  },\n  heart: {\n    source: HEART_IMAGE,\n    color: '#e74c3c',\n    backgroundColor: 'white'\n  },\n  rocket: {\n    source: ROCKET_IMAGE,\n    color: '#2ecc71',\n    backgroundColor: 'white'\n  },\n  bell: {\n    source: BELL_IMAGE,\n    color: '#f39c12',\n    backgroundColor: 'white'\n  }\n};\n\nexport default class SwipeRating extends Component {\n  static defaultProps = {\n    type: 'star',\n    ratingImage: STAR_IMAGE,\n    ratingColor: '#f1c40f',\n    ratingBackgroundColor: 'white',\n    ratingCount: 5,\n    showReadOnlyText: true,\n    imageSize: 40,\n    minValue: 0,\n    jumpValue: 0\n  };\n\n  constructor( props ) {\n    super( props );\n    const { onStartRating, onSwipeRating, onFinishRating, fractions } = this.props;\n    const position = new Animated.ValueXY();\n\n    const panResponder = PanResponder.create( {\n      onStartShouldSetPanResponder: () => true,\n      onPanResponderGrant: ( event, gesture ) => {\n        const newPosition = new Animated.ValueXY();\n        const tapPositionX = gesture.x0 - this.state.centerX + gesture.dx;\n\n        newPosition.setValue( { x: tapPositionX, y: 0 } );\n        if ( this.state.isComponentMounted ) {\n          this.setState( { position: newPosition, value: tapPositionX } );\n          const rating = this.getCurrentRating( tapPositionX );\n\n          if ( typeof onStartRating === 'function' ) {\n            onStartRating( rating );\n          }\n        }\n      },\n      onPanResponderMove: ( event, gesture ) => {\n        const newPosition = new Animated.ValueXY();\n        const tapPositionX = gesture.x0 - this.state.centerX + gesture.dx;\n\n        newPosition.setValue( { x: tapPositionX, y: 0 } );\n        if ( this.state.isComponentMounted ) {\n          this.setState( { position: newPosition, value: tapPositionX } );\n          const rating = this.getCurrentRating( tapPositionX );\n\n          if ( typeof onSwipeRating === \"function\" ) {\n            onSwipeRating( rating );\n          }\n        }\n      },\n      onPanResponderRelease: () => {\n        const rating = this.getCurrentRating( this.state.value );\n\n        if ( rating >= this.props.minValue ) {\n          if ( !fractions ) {\n            // 'round up' to the nearest rating image\n            this.setCurrentRating( rating );\n          }\n          if ( typeof onFinishRating === 'function' ) {\n            onFinishRating( rating );\n          }\n        }\n      }\n    } );\n\n    this.state = { panResponder, position, display: false, isComponentMounted: false };\n  }\n\n componentDidMount() {\n    try {\n      this.setState(\n        { display: true, isComponentMounted: true },\n        () => this.setCurrentRating( this.props.startingValue )\n      );\n    } catch ( err ) {\n      // eslint-disable-next-line no-console\n      console.log( err )\n    }\n\n  }\n\n  componentDidUpdate( prevProps ) {\n    if ( this.props.startingValue !== prevProps.startingValue ) {\n      this.setCurrentRating( this.props.startingValue );\n    }\n  }\n\n  handleLayoutChange() {\n    // eslint-disable-next-line max-params\n    this.ratingRef.measure( ( fx, fy, width, height, px ) => {\n      const halfWidth = width / 2\n      const pageXWithinWindow = px % Dimensions.get( \"window\" ).width\n\n      this.setState( {\n        centerX: pageXWithinWindow + halfWidth\n      } );\n    } );\n  }\n\n  getPrimaryViewStyle() {\n    const { position } = this.state;\n    const { imageSize, ratingCount, type } = this.props;\n\n    const {color} = TYPES[type];\n\n    const width = position.x.interpolate(\n      {\n        inputRange: [-ratingCount * ( imageSize / 2 ), 0, ratingCount * ( imageSize / 2 )],\n        outputRange: [0, ratingCount * imageSize / 2, ratingCount * imageSize],\n        extrapolate: 'clamp'\n      },\n      {\n        useNativeDriver: true\n      }\n    );\n\n    return {\n      backgroundColor: color,\n      width,\n      height: width ? imageSize : 0\n    };\n  }\n\n  getSecondaryViewStyle() {\n    const { position } = this.state;\n    const { imageSize, ratingCount, type } = this.props;\n\n    const {backgroundColor} = TYPES[type];\n\n    const width = position.x.interpolate(\n      {\n        inputRange: [-ratingCount * ( imageSize / 2 ), 0, ratingCount * ( imageSize / 2 )],\n        outputRange: [ratingCount * imageSize, ratingCount * imageSize / 2, 0],\n        extrapolate: 'clamp'\n      },\n      {\n        useNativeDriver: true\n      }\n    );\n\n    return {\n      backgroundColor,\n      width,\n      height: width ? imageSize : 0\n    };\n  }\n\n  renderRatings() {\n    const { imageSize, ratingCount, type, tintColor } = this.props;\n    const {source} = TYPES[type];\n\n    return times( ratingCount, index =>\n      <View key={index} style={styles.starContainer}>\n        <Image source={source} style={{ width: imageSize, height: imageSize, tintColor }} />\n      </View>\n    );\n  }\n\n  // eslint-disable-next-line max-statements\n  getCurrentRating( value ) {\n    const { fractions, imageSize, ratingCount } = this.props;\n\n    const startingValue = ratingCount / 2;\n\n    let currentRating = this.props.minValue ? this.props.minValue : 0;\n\n    if ( value > ratingCount * imageSize / 2 ) {\n      currentRating = ratingCount;\n    } else if ( value < -ratingCount * imageSize / 2 ) {\n      currentRating = this.props.minValue ? this.props.minValue : 0;\n    } else if ( value <= imageSize || value > imageSize ) {\n      const diff = value / imageSize\n\n      currentRating = startingValue + diff;\n      currentRating = fractions ? Number( currentRating.toFixed( fractions ) ) : Math.ceil( currentRating );\n    } else {\n      currentRating = fractions ? Number( startingValue.toFixed( fractions ) ) : Math.ceil( startingValue );\n    }\n    if (\n      this.props.jumpValue > 0 &&\n      this.props.jumpValue < this.props.ratingCount\n    ) {\n      return (\n        Math.ceil( currentRating * ( 1 / this.props.jumpValue ) ) /\n        ( 1 / this.props.jumpValue )\n      );\n    } else {\n      return currentRating;\n    }\n  }\n\n  // eslint-disable-next-line max-statements\n  setCurrentRating( rating ) {\n    const { imageSize, ratingCount } = this.props;\n\n    // `initialRating` corresponds to `startingValue` in the getter. Naming it\n    // Differently here avoids confusion with `value` below.\n    const initialRating = ratingCount / 2;\n\n    let value = null;\n\n    if ( rating > ratingCount ) {\n      value = ratingCount * imageSize / 2;\n    } else if ( rating < 0 ) {\n      value = -ratingCount * imageSize / 2;\n    } else if ( rating < ratingCount / 2 || rating > ratingCount / 2 ) {\n      value = ( rating - initialRating ) * imageSize;\n    } else {\n      value = 0;\n    }\n\n    const newPosition = new Animated.ValueXY();\n\n    newPosition.setValue( { x: value, y: 0 } );\n    if ( this.state.isComponentMounted ) {\n      this.setState( {position: newPosition, value} );\n    }\n  }\n\n  displayCurrentRating() {\n    const { ratingCount, type, readonly, showReadOnlyText, ratingTextColor } = this.props;\n    const color = ratingTextColor || TYPES[type].color;\n\n    return (\n      <View style={styles.showRatingView}>\n        <View style={styles.ratingView}>\n          <Text style={[styles.ratingText, { color }]}>Rating:{' '}</Text>\n          <Text style={[styles.currentRatingText, { color }]}>{this.getCurrentRating( this.state.value )}</Text>\n          <Text style={[styles.maxRatingText, { color }]}>/{ratingCount}</Text>\n        </View>\n        <View>{readonly && showReadOnlyText && <Text style={[styles.readonlyLabel, { color }]}>(readonly)</Text>}</View>\n      </View>\n    );\n  }\n\n  render() {\n    const { readonly, type, ratingImage, ratingColor, ratingBackgroundColor, style, showRating } = this.props;\n\n    if ( type === 'custom' ) {\n      const custom = {\n        source: ratingImage,\n        color: ratingColor,\n        backgroundColor: ratingBackgroundColor\n      };\n\n      TYPES.custom = custom;\n    }\n\n    return (\n      this.state.display ?\n      <View pointerEvents={readonly ? 'none' : 'auto'} style={style}>\n        {showRating && this.displayCurrentRating()}\n        <View style={styles.starsWrapper} {...this.state.panResponder.panHandlers}>\n            <View style={styles.starsInsideWrapper} onLayout={e => {\n              this.handleLayoutChange( e )\n            }} ref={view => {\n              this.ratingRef = view;\n            }}>\n            <Animated.View style={this.getPrimaryViewStyle()} />\n            <Animated.View style={this.getSecondaryViewStyle()} />\n          </View>\n          {this.renderRatings()}\n        </View>\n      </View> :\n      null\n    );\n  }\n\n  componentWillUnmount() {\n    this.setState( { isComponentMounted: false } );\n  }\n\n}\n\nconst styles = StyleSheet.create( {\n  starsWrapper: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  starsInsideWrapper: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  showRatingView: {\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingBottom: 5\n  },\n  ratingView: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingBottom: 5\n  },\n  ratingText: {\n    fontSize: 15,\n    textAlign: 'center',\n    fontFamily: Platform.OS === 'ios' ? 'Trebuchet MS' : null,\n    color: '#34495e'\n  },\n  readonlyLabel: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: 12,\n    textAlign: 'center',\n    fontFamily: Platform.OS === 'ios' ? 'Trebuchet MS' : null,\n    color: '#34495a'\n  },\n  currentRatingText: {\n    fontSize: 30,\n    textAlign: 'center',\n    fontFamily: Platform.OS === 'ios' ? 'Trebuchet MS' : null\n  },\n  maxRatingText: {\n    fontSize: 18,\n    textAlign: 'center',\n    fontFamily: Platform.OS === 'ios' ? 'Trebuchet MS' : null,\n    color: '#34495e'\n  }\n} );\n\nconst fractionsType = ( props, propName, componentName ) => {\n  if ( props[propName] ) {\n    const value = props[propName];\n\n    if ( typeof value === 'number' ) {\n      return value >= 0 && value <= 20 ?\n        null :\n        new Error( `\\`${propName}\\` in \\`${componentName}\\` must be between 0 and 20` );\n    }\n\n    return new Error( `\\`${propName}\\` in \\`${componentName}\\` must be a number` );\n  }\n};\n\nSwipeRating.propTypes = {\n  type: PropTypes.string,\n  ratingImage: PropTypes.node,\n  ratingColor: PropTypes.string,\n  ratingBackgroundColor: PropTypes.string,\n  ratingCount: PropTypes.number,\n  ratingTextColor: PropTypes.string,\n  imageSize: PropTypes.number,\n  onStartRating: PropTypes.func,\n  onFinishRating: PropTypes.func,\n  showRating: PropTypes.bool,\n  style: PropTypes.object,\n  readonly: PropTypes.bool,\n  showReadOnlyText: PropTypes.bool,\n  startingValue: PropTypes.number,\n  fractions: fractionsType,\n  minValue: PropTypes.number\n};\n"]},"metadata":{},"sourceType":"module"}