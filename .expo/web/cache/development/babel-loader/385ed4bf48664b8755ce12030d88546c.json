{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty2 from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty2(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { Component } from 'react';\nimport Animated from 'react-native-reanimated';\nimport { PanGestureHandler, State } from 'react-native-gesture-handler';\nimport _ from 'lodash';\nvar add = Animated.add,\n    cond = Animated.cond,\n    diff = Animated.diff,\n    divide = Animated.divide,\n    eq = Animated.eq,\n    event = Animated.event,\n    exp = Animated.exp,\n    lessThan = Animated.lessThan,\n    and = Animated.and,\n    call = Animated.call,\n    block = Animated.block,\n    multiply = Animated.multiply,\n    pow = Animated.pow,\n    set = Animated.set,\n    abs = Animated.abs,\n    clockRunning = Animated.clockRunning,\n    greaterOrEq = Animated.greaterOrEq,\n    lessOrEq = Animated.lessOrEq,\n    sqrt = Animated.sqrt,\n    startClock = Animated.startClock,\n    stopClock = Animated.stopClock,\n    sub = Animated.sub,\n    Clock = Animated.Clock,\n    Value = Animated.Value,\n    onChange = Animated.onChange;\nvar ANIMATOR_PAUSE_CONSECUTIVE_FRAMES = 10;\nvar ANIMATOR_PAUSE_ZERO_VELOCITY = 1;\nvar DEFAULT_SNAP_TENSION = 300;\nvar DEFAULT_SNAP_DAMPING = 0.7;\nvar DEFAULT_GRAVITY_STRENGTH = 400;\nvar DEFAULT_GRAVITY_FALLOF = 40;\n\nfunction sq(x) {\n  return multiply(x, x);\n}\n\nfunction influenceAreaWithRadius(radius, anchor) {\n  return {\n    left: (anchor.x || 0) - radius,\n    right: (anchor.x || 0) + radius,\n    top: (anchor.y || 0) - radius,\n    bottom: (anchor.y || 0) + radius\n  };\n}\n\nfunction snapTo(target, snapPoints, best, clb, dragClb) {\n  var dist = new Value(0);\n\n  var snap = function snap(pt) {\n    return [set(best.tension, pt.tension || DEFAULT_SNAP_TENSION), set(best.damping, pt.damping || DEFAULT_SNAP_DAMPING), set(best.x, pt.x || 0), set(best.y, pt.y || 0)];\n  };\n\n  var snapDist = function snapDist(pt) {\n    return add(sq(sub(target.x, pt.x || 0)), sq(sub(target.y, pt.y || 0)));\n  };\n\n  return [set(dist, snapDist(snapPoints[0]))].concat(_toConsumableArray(snap(snapPoints[0])), _toConsumableArray(snapPoints.map(function (pt) {\n    var newDist = snapDist(pt);\n    return cond(lessThan(newDist, dist), [set(dist, newDist)].concat(_toConsumableArray(snap(pt))));\n  })), [(clb || dragClb) && call([best.x, best.y, target.x, target.y], function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 4),\n        bx = _ref2[0],\n        by = _ref2[1],\n        x = _ref2[2],\n        y = _ref2[3];\n\n    snapPoints.forEach(function (pt, index) {\n      if ((pt.x === undefined || pt.x === bx) && (pt.y === undefined || pt.y === by)) {\n        clb && clb({\n          nativeEvent: _objectSpread(_objectSpread({}, pt), {}, {\n            index: index\n          })\n        });\n        dragClb && dragClb({\n          nativeEvent: {\n            x: x,\n            y: y,\n            targetSnapPointId: pt.id,\n            state: 'end'\n          }\n        });\n      }\n    });\n  })]);\n}\n\nfunction springBehavior(dt, target, obj, anchor) {\n  var tension = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 300;\n  var dx = sub(target.x, anchor.x);\n  var ax = divide(multiply(-1, tension, dx), obj.mass);\n  var dy = sub(target.y, anchor.y);\n  var ay = divide(multiply(-1, tension, dy), obj.mass);\n  return {\n    x: set(obj.vx, add(obj.vx, multiply(dt, ax))),\n    y: set(obj.vy, add(obj.vy, multiply(dt, ay)))\n  };\n}\n\nfunction frictionBehavior(dt, target, obj) {\n  var damping = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.7;\n  var friction = pow(damping, multiply(60, dt));\n  return {\n    x: set(obj.vx, multiply(obj.vx, friction)),\n    y: set(obj.vy, multiply(obj.vy, friction))\n  };\n}\n\nfunction anchorBehavior(dt, target, obj, anchor) {\n  var dx = sub(anchor.x, target.x);\n  var dy = sub(anchor.y, target.y);\n  return {\n    x: set(obj.vx, divide(dx, dt)),\n    y: set(obj.vy, divide(dy, dt))\n  };\n}\n\nfunction gravityBehavior(dt, target, obj, anchor) {\n  var strength = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : DEFAULT_GRAVITY_STRENGTH;\n  var falloff = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : DEFAULT_GRAVITY_FALLOF;\n  var dx = sub(target.x, anchor.x);\n  var dy = sub(target.y, anchor.y);\n  var drsq = add(sq(dx), sq(dy));\n  var dr = sqrt(drsq);\n  var a = divide(multiply(-1, strength, dr, exp(divide(multiply(-0.5, drsq), sq(falloff)))), obj.mass);\n  var div = divide(a, dr);\n  return {\n    x: cond(dr, set(obj.vx, add(obj.vx, multiply(dt, dx, div)))),\n    y: cond(dr, set(obj.vy, add(obj.vy, multiply(dt, dy, div))))\n  };\n}\n\nfunction bounceBehavior(dt, target, obj, area) {\n  var bounce = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var xnodes = [];\n  var ynodes = [];\n  var flipx = set(obj.vx, multiply(-1, obj.vx, bounce));\n  var flipy = set(obj.vy, multiply(-1, obj.vy, bounce));\n\n  if (area.left !== undefined) {\n    xnodes.push(cond(and(eq(target.x, area.left), lessThan(obj.vx, 0)), flipx));\n  }\n\n  if (area.right !== undefined) {\n    xnodes.push(cond(and(eq(target.x, area.right), lessThan(0, obj.vx)), flipx));\n  }\n\n  if (area.top !== undefined) {\n    xnodes.push(cond(and(eq(target.y, area.top), lessThan(obj.vy, 0)), flipy));\n  }\n\n  if (area.bottom !== undefined) {\n    xnodes.push(cond(and(eq(target.y, area.bottom), lessThan(0, obj.vy)), flipy));\n  }\n\n  return {\n    x: xnodes,\n    y: ynodes\n  };\n}\n\nfunction withInfluence(area, target, behavior) {\n  if (!area) {\n    return behavior;\n  }\n\n  var testLeft = area.left === undefined || lessOrEq(area.left, target.x);\n  var testRight = area.right === undefined || lessOrEq(target.x, area.right);\n  var testTop = area.top === undefined || lessOrEq(area.top, target.y);\n  var testBottom = area.bottom === undefined || lessOrEq(target.y, area.bottom);\n  var testNodes = [testLeft, testRight, testTop, testBottom].filter(function (t) {\n    return t !== true;\n  });\n  var test = and.apply(void 0, _toConsumableArray(testNodes));\n  return {\n    x: cond(test, behavior.x),\n    y: cond(test, behavior.y)\n  };\n}\n\nfunction withLimits(value, lowerBound, upperBound) {\n  var result = value;\n\n  if (lowerBound !== undefined) {\n    result = cond(lessThan(value, lowerBound), lowerBound, result);\n  }\n\n  if (upperBound !== undefined) {\n    result = cond(lessThan(upperBound, value), upperBound, result);\n  }\n\n  return result;\n}\n\nvar Interactable = function (_Component) {\n  _inherits(Interactable, _Component);\n\n  var _super = _createSuper(Interactable);\n\n  function Interactable(_props) {\n    var _this;\n\n    _classCallCheck(this, Interactable);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"initialize\", function (props) {\n      var update = {\n        x: props.animatedValueX,\n        y: props.animatedValueY\n      };\n      var clock = new Clock();\n      var dt = divide(diff(clock), 1000);\n      var obj = {\n        vx: new Value(0),\n        vy: new Value(0),\n        mass: 1\n      };\n      var tossedTarget = {\n        x: add(new Value(props.initialPosition.x || 0), multiply(props.dragToss, obj.vx)),\n        y: add(_this.target.y, multiply(props.dragToss, obj.vy))\n      };\n      var permBuckets = [[], [], []];\n\n      var addSpring = function addSpring(anchor, tension, influence) {\n        var buckets = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : permBuckets;\n        buckets[0].push(withInfluence(influence, _this.target, springBehavior(dt, _this.target, obj, anchor, tension)));\n      };\n\n      var addFriction = function addFriction(damping, influence) {\n        var buckets = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : permBuckets;\n        buckets[1].push(withInfluence(influence, _this.target, frictionBehavior(dt, _this.target, obj, damping)));\n      };\n\n      var addGravity = function addGravity(anchor, strength, falloff, influence) {\n        var buckets = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : permBuckets;\n        buckets[0].push(withInfluence(influence, _this.target, gravityBehavior(dt, _this.target, obj, anchor, strength, falloff)));\n      };\n\n      var dragAnchor = {\n        x: new Value(0),\n        y: new Value(0)\n      };\n      var dragBuckets = [[], [], []];\n\n      if (props.dragWithSpring) {\n        var _props$dragWithSpring = props.dragWithSpring,\n            tension = _props$dragWithSpring.tension,\n            damping = _props$dragWithSpring.damping;\n        addSpring(dragAnchor, tension, null, dragBuckets);\n        addFriction(damping, null, dragBuckets);\n      } else {\n        dragBuckets[0].push(anchorBehavior(dt, _this.target, obj, dragAnchor));\n      }\n\n      var handleStartDrag = props.onDrag && call([_this.target.x, _this.target.y], function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            x = _ref4[0],\n            y = _ref4[1];\n\n        return props.onDrag({\n          nativeEvent: {\n            x: x,\n            y: y,\n            state: 'start'\n          }\n        });\n      });\n      var snapBuckets = [[], [], []];\n      var updateSnapTo = snapTo(tossedTarget, props.snapPoints, _this.snapAnchor, props.onSnap, props.onDrag);\n      addSpring(_this.snapAnchor, _this.snapAnchor.tension, null, snapBuckets);\n      addFriction(_this.snapAnchor.damping, null, snapBuckets);\n\n      if (props.springPoints) {\n        props.springPoints.forEach(function (pt) {\n          addSpring(pt, pt.tension, pt.influenceArea);\n\n          if (pt.damping) {\n            addFriction(pt.damping, pt.influenceArea);\n          }\n        });\n      }\n\n      if (props.gravityPoints) {\n        props.gravityPoints.forEach(function (pt) {\n          var falloff = pt.falloff || DEFAULT_GRAVITY_FALLOF;\n          addGravity(pt, pt.strength, falloff, pt.influenceArea);\n\n          if (pt.damping) {\n            var influenceArea = pt.influenceArea || influenceAreaWithRadius(1.4 * falloff, pt);\n            addFriction(pt.damping, influenceArea);\n          }\n        });\n      }\n\n      if (props.frictionAreas) {\n        props.frictionAreas.forEach(function (pt) {\n          addFriction(pt.damping, pt.influenceArea);\n        });\n      }\n\n      if (props.boundaries) {\n        snapBuckets[0].push(bounceBehavior(dt, _this.target, obj, props.boundaries, props.boundaries.bounce));\n      }\n\n      var sortBuckets = function sortBuckets(specialBuckets) {\n        return {\n          x: specialBuckets.map(function (b, idx) {\n            return [].concat(_toConsumableArray(permBuckets[idx]), _toConsumableArray(b)).reverse().map(function (b) {\n              return b.x;\n            });\n          }).reduce(function (acc, b) {\n            return acc.concat(b);\n          }, []),\n          y: specialBuckets.map(function (b, idx) {\n            return [].concat(_toConsumableArray(permBuckets[idx]), _toConsumableArray(b)).reverse().map(function (b) {\n              return b.y;\n            });\n          }).reduce(function (acc, b) {\n            return acc.concat(b);\n          }, [])\n        };\n      };\n\n      var dragBehaviors = sortBuckets(dragBuckets);\n      var snapBehaviors = sortBuckets(snapBuckets);\n      var noMovementFrames = {\n        x: new Value(props.verticalOnly ? ANIMATOR_PAUSE_CONSECUTIVE_FRAMES + 1 : 0),\n        y: new Value(props.horizontalOnly ? ANIMATOR_PAUSE_CONSECUTIVE_FRAMES + 1 : 0)\n      };\n      var stopWhenNeeded = cond(and(greaterOrEq(noMovementFrames.x, ANIMATOR_PAUSE_CONSECUTIVE_FRAMES), greaterOrEq(noMovementFrames.y, ANIMATOR_PAUSE_CONSECUTIVE_FRAMES)), [props.onStop ? cond(clockRunning(clock), call([_this.target.x, _this.target.y], function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            x = _ref6[0],\n            y = _ref6[1];\n\n        return props.onStop({\n          nativeEvent: {\n            x: x,\n            y: y\n          }\n        });\n      })) : undefined, stopClock(clock)], startClock(clock));\n\n      var trans = function trans(axis, vaxis, lowerBound, upperBound) {\n        var dragging = new Value(0);\n        var start = new Value(0);\n        var x = _this.target[axis];\n        var vx = obj[vaxis];\n        var anchor = dragAnchor[axis];\n        var drag = _this.gesture[axis];\n        var advance = cond(lessThan(abs(vx), ANIMATOR_PAUSE_ZERO_VELOCITY), x, add(x, multiply(vx, dt)));\n\n        if (props.boundaries) {\n          advance = withLimits(advance, props.boundaries[lowerBound], props.boundaries[upperBound]);\n        }\n\n        var last = new Value(Number.MAX_SAFE_INTEGER);\n        var noMoveFrameCount = noMovementFrames[axis];\n        var testMovementFrames = block([onChange(_this.snapAnchor.x, set(last, Number.MAX_SAFE_INTEGER)), onChange(_this.snapAnchor.y, set(last, Number.MAX_SAFE_INTEGER)), cond(eq(advance, last), set(noMoveFrameCount, add(noMoveFrameCount, 1)), [set(last, advance), set(noMoveFrameCount, 0)])]);\n        var step = cond(eq(_this.state, State.ACTIVE), [cond(dragging, 0, [handleStartDrag, startClock(clock), set(dragging, 1), set(start, x)]), set(anchor, add(start, drag)), cond(dt, dragBehaviors[axis])], [cond(dragging, [updateSnapTo, set(dragging, 0)]), cond(dt, snapBehaviors[axis]), testMovementFrames, stopWhenNeeded]);\n        var wrapStep = props.dragEnabled ? cond(props.dragEnabled, step, [set(dragging, 1), stopClock(clock)]) : step;\n        _this._dragging[axis] = dragging;\n        _this._velocity[axis] = vx;\n        var doUpdateAnReturn = update[axis] ? set(update[axis], x) : x;\n        return block([wrapStep, set(x, advance), doUpdateAnReturn]);\n      };\n\n      _this._dragging = {};\n      _this._velocity = {};\n      _this._position = _this.target;\n      _this._snapAnchor = _this.snapAnchor;\n      _this._transX = trans('x', 'vx', 'left', 'right');\n      _this._transY = trans('y', 'vy', 'top', 'bottom');\n    });\n\n    _this.gesture = {\n      x: new Value(0),\n      y: new Value(0)\n    };\n    _this.state = new Value(-1);\n    _this._onGestureEvent = event([{\n      nativeEvent: {\n        translationX: _this.gesture.x,\n        translationY: _this.gesture.y,\n        state: _this.state\n      }\n    }]);\n    _this.target = {\n      x: new Value(_props.initialPosition.x || 0),\n      y: new Value(_props.initialPosition.y || 0)\n    };\n    _this.snapAnchor = {\n      x: new Value(_props.initialPosition.x || 0),\n      y: new Value(_props.initialPosition.y || 0),\n      tension: new Value(DEFAULT_SNAP_TENSION),\n      damping: new Value(DEFAULT_SNAP_DAMPING)\n    };\n\n    _this.initialize(_props);\n\n    return _this;\n  }\n\n  _createClass(Interactable, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (!_.isEqual(nextProps.snapPoints, this.props.snapPoints)) {\n        this.initialize(nextProps);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          style = _this$props.style,\n          horizontalOnly = _this$props.horizontalOnly,\n          verticalOnly = _this$props.verticalOnly;\n      return React.createElement(PanGestureHandler, {\n        maxPointers: 1,\n        minDist: 10,\n        enabled: this.props.dragEnabled,\n        onGestureEvent: this._onGestureEvent,\n        onHandlerStateChange: this._onGestureEvent\n      }, React.createElement(Animated.View, {\n        style: [style, {\n          transform: [{\n            translateX: verticalOnly ? 0 : this._transX\n          }, {\n            translateY: horizontalOnly ? 0 : this._transY\n          }]\n        }]\n      }, children));\n    }\n  }, {\n    key: \"setVelocity\",\n    value: function setVelocity(_ref7) {\n      var x = _ref7.x,\n          y = _ref7.y;\n\n      if (x !== undefined) {\n        this._dragging.x.setValue(1);\n\n        this._velocity.x.setValue(x);\n      }\n\n      if (y !== undefined) {\n        this._dragging.y.setValue(1);\n\n        this._velocity.y.setValue(y);\n      }\n    }\n  }, {\n    key: \"snapTo\",\n    value: function snapTo(_ref8) {\n      var index = _ref8.index;\n      var snapPoint = this.props.snapPoints[index];\n\n      this._snapAnchor.tension.setValue(snapPoint.tension || DEFAULT_SNAP_TENSION);\n\n      this._snapAnchor.damping.setValue(snapPoint.damping || DEFAULT_SNAP_DAMPING);\n\n      this._snapAnchor.x.setValue(snapPoint.x || 0);\n\n      this._snapAnchor.y.setValue(snapPoint.y || 0);\n\n      this.props.onSnap && this.props.onSnap({\n        nativeEvent: _objectSpread(_objectSpread({}, snapPoint), {}, {\n          index: index\n        })\n      });\n    }\n  }, {\n    key: \"changePosition\",\n    value: function changePosition(_ref9) {\n      var x = _ref9.x,\n          y = _ref9.y;\n\n      if (x !== undefined) {\n        this._dragging.x.setValue(1);\n\n        this._position.x.setValue(x);\n      }\n\n      if (y !== undefined) {\n        this._dragging.x.setValue(1);\n\n        this._position.y.setValue(y);\n      }\n    }\n  }, {\n    key: \"snapToPosition\",\n    value: function snapToPosition(_ref10) {\n      var x = _ref10.x,\n          y = _ref10.y;\n\n      this._snapAnchor.x.setValue(x || 0);\n\n      this._snapAnchor.y.setValue(y || 0);\n    }\n  }]);\n\n  return Interactable;\n}(Component);\n\n_defineProperty(Interactable, \"defaultProps\", {\n  dragToss: 0.1,\n  dragEnabled: true,\n  initialPosition: {\n    x: 0,\n    y: 0\n  }\n});\n\nexport default {\n  View: Interactable\n};","map":{"version":3,"sources":["index.js"],"names":["onChange","ANIMATOR_PAUSE_CONSECUTIVE_FRAMES","ANIMATOR_PAUSE_ZERO_VELOCITY","DEFAULT_SNAP_TENSION","DEFAULT_SNAP_DAMPING","DEFAULT_GRAVITY_STRENGTH","DEFAULT_GRAVITY_FALLOF","multiply","left","anchor","right","top","bottom","radius","dist","snap","pt","set","best","snapDist","add","sq","sub","target","snapPoints","newDist","cond","lessThan","clb","call","nativeEvent","index","dragClb","x","y","targetSnapPointId","state","tension","dx","ax","divide","obj","dy","ay","damping","friction","pow","strength","falloff","drsq","dr","sqrt","a","exp","div","bounce","xnodes","ynodes","flipx","flipy","area","and","eq","testLeft","lessOrEq","testRight","testTop","testBottom","testNodes","t","test","behavior","result","lowerBound","upperBound","Interactable","dragToss","dragEnabled","initialPosition","constructor","event","translationX","translationY","props","UNSAFE_componentWillReceiveProps","_","nextProps","update","animatedValueY","clock","dt","diff","vx","vy","mass","tossedTarget","permBuckets","addSpring","buckets","withInfluence","springBehavior","addFriction","frictionBehavior","addGravity","gravityBehavior","dragAnchor","dragBuckets","anchorBehavior","handleStartDrag","snapBuckets","updateSnapTo","snapTo","influenceArea","influenceAreaWithRadius","bounceBehavior","sortBuckets","specialBuckets","b","acc","dragBehaviors","snapBehaviors","noMovementFrames","stopWhenNeeded","greaterOrEq","clockRunning","stopClock","startClock","trans","dragging","start","drag","advance","abs","withLimits","last","Number","noMoveFrameCount","testMovementFrames","block","step","State","wrapStep","doUpdateAnReturn","render","verticalOnly","_onGestureEvent","transform","translateX","_transX","translateY","horizontalOnly","_transY","setVelocity","snapPoint","changePosition","snapToPosition","View"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Animated from 'react-native-reanimated';\nimport { PanGestureHandler, State } from 'react-native-gesture-handler';\nimport _ from 'lodash';\nconst {\n  add,\n  cond,\n  diff,\n  divide,\n  eq,\n  event,\n  exp,\n  lessThan,\n  and,\n  call,\n  block,\n  multiply,\n  pow,\n  set,\n  abs,\n  clockRunning,\n  greaterOrEq,\n  lessOrEq,\n  sqrt,\n  startClock,\n  stopClock,\n  sub,\n  Clock,\n  Value,\n  onChange,\n} = Animated;\n\nconst ANIMATOR_PAUSE_CONSECUTIVE_FRAMES = 10;\nconst ANIMATOR_PAUSE_ZERO_VELOCITY = 1;\nconst DEFAULT_SNAP_TENSION = 300;\nconst DEFAULT_SNAP_DAMPING = 0.7;\nconst DEFAULT_GRAVITY_STRENGTH = 400;\nconst DEFAULT_GRAVITY_FALLOF = 40;\n\nfunction sq(x) {\n  return multiply(x, x);\n}\n\nfunction influenceAreaWithRadius(radius, anchor) {\n  return {\n    left: (anchor.x || 0) - radius,\n    right: (anchor.x || 0) + radius,\n    top: (anchor.y || 0) - radius,\n    bottom: (anchor.y || 0) + radius,\n  };\n}\n\nfunction snapTo(target, snapPoints, best, clb, dragClb) {\n  const dist = new Value(0);\n  const snap = (pt) => [\n    set(best.tension, pt.tension || DEFAULT_SNAP_TENSION),\n    set(best.damping, pt.damping || DEFAULT_SNAP_DAMPING),\n    set(best.x, pt.x || 0),\n    set(best.y, pt.y || 0),\n  ];\n  const snapDist = (pt) =>\n    add(sq(sub(target.x, pt.x || 0)), sq(sub(target.y, pt.y || 0)));\n  return [\n    set(dist, snapDist(snapPoints[0])),\n    ...snap(snapPoints[0]),\n    ...snapPoints.map((pt) => {\n      const newDist = snapDist(pt);\n      return cond(lessThan(newDist, dist), [set(dist, newDist), ...snap(pt)]);\n    }),\n    (clb || dragClb) &&\n      call([best.x, best.y, target.x, target.y], ([bx, by, x, y]) => {\n        snapPoints.forEach((pt, index) => {\n          if (\n            (pt.x === undefined || pt.x === bx) &&\n            (pt.y === undefined || pt.y === by)\n          ) {\n            clb && clb({ nativeEvent: { ...pt, index } });\n            dragClb &&\n              dragClb({\n                nativeEvent: { x, y, targetSnapPointId: pt.id, state: 'end' },\n              });\n          }\n        });\n      }),\n  ];\n}\n\nfunction springBehavior(dt, target, obj, anchor, tension = 300) {\n  const dx = sub(target.x, anchor.x);\n  const ax = divide(multiply(-1, tension, dx), obj.mass);\n  const dy = sub(target.y, anchor.y);\n  const ay = divide(multiply(-1, tension, dy), obj.mass);\n  return {\n    x: set(obj.vx, add(obj.vx, multiply(dt, ax))),\n    y: set(obj.vy, add(obj.vy, multiply(dt, ay))),\n  };\n}\n\nfunction frictionBehavior(dt, target, obj, damping = 0.7) {\n  const friction = pow(damping, multiply(60, dt));\n  return {\n    x: set(obj.vx, multiply(obj.vx, friction)),\n    y: set(obj.vy, multiply(obj.vy, friction)),\n  };\n}\n\nfunction anchorBehavior(dt, target, obj, anchor) {\n  const dx = sub(anchor.x, target.x);\n  const dy = sub(anchor.y, target.y);\n  return {\n    x: set(obj.vx, divide(dx, dt)),\n    y: set(obj.vy, divide(dy, dt)),\n  };\n}\n\nfunction gravityBehavior(\n  dt,\n  target,\n  obj,\n  anchor,\n  strength = DEFAULT_GRAVITY_STRENGTH,\n  falloff = DEFAULT_GRAVITY_FALLOF\n) {\n  const dx = sub(target.x, anchor.x);\n  const dy = sub(target.y, anchor.y);\n  const drsq = add(sq(dx), sq(dy));\n  const dr = sqrt(drsq);\n  const a = divide(\n    multiply(-1, strength, dr, exp(divide(multiply(-0.5, drsq), sq(falloff)))),\n    obj.mass\n  );\n  const div = divide(a, dr);\n  return {\n    x: cond(dr, set(obj.vx, add(obj.vx, multiply(dt, dx, div)))),\n    y: cond(dr, set(obj.vy, add(obj.vy, multiply(dt, dy, div)))),\n  };\n}\n\nfunction bounceBehavior(dt, target, obj, area, bounce = 0) {\n  const xnodes = [];\n  const ynodes = [];\n  const flipx = set(obj.vx, multiply(-1, obj.vx, bounce));\n  const flipy = set(obj.vy, multiply(-1, obj.vy, bounce));\n  if (area.left !== undefined) {\n    xnodes.push(cond(and(eq(target.x, area.left), lessThan(obj.vx, 0)), flipx));\n  }\n  if (area.right !== undefined) {\n    xnodes.push(\n      cond(and(eq(target.x, area.right), lessThan(0, obj.vx)), flipx)\n    );\n  }\n  if (area.top !== undefined) {\n    xnodes.push(cond(and(eq(target.y, area.top), lessThan(obj.vy, 0)), flipy));\n  }\n  if (area.bottom !== undefined) {\n    xnodes.push(\n      cond(and(eq(target.y, area.bottom), lessThan(0, obj.vy)), flipy)\n    );\n  }\n  return {\n    x: xnodes,\n    y: ynodes,\n  };\n}\n\nfunction withInfluence(area, target, behavior) {\n  if (!area) {\n    return behavior;\n  }\n  const testLeft = area.left === undefined || lessOrEq(area.left, target.x);\n  const testRight = area.right === undefined || lessOrEq(target.x, area.right);\n  const testTop = area.top === undefined || lessOrEq(area.top, target.y);\n  const testBottom =\n    area.bottom === undefined || lessOrEq(target.y, area.bottom);\n  const testNodes = [testLeft, testRight, testTop, testBottom].filter(\n    (t) => t !== true\n  );\n  const test = and(...testNodes);\n  return {\n    x: cond(test, behavior.x),\n    y: cond(test, behavior.y),\n  };\n}\n\nfunction withLimits(value, lowerBound, upperBound) {\n  let result = value;\n  if (lowerBound !== undefined) {\n    result = cond(lessThan(value, lowerBound), lowerBound, result);\n  }\n  if (upperBound !== undefined) {\n    result = cond(lessThan(upperBound, value), upperBound, result);\n  }\n  return result;\n}\n\nclass Interactable extends Component {\n  static defaultProps = {\n    dragToss: 0.1,\n    dragEnabled: true,\n    initialPosition: { x: 0, y: 0 },\n  };\n\n  constructor(props) {\n    super(props);\n    this.gesture = { x: new Value(0), y: new Value(0) };\n    this.state = new Value(-1);\n    this._onGestureEvent = event([\n      {\n        nativeEvent: {\n          translationX: this.gesture.x,\n          translationY: this.gesture.y,\n          state: this.state,\n        },\n      },\n    ]);\n    this.target = {\n      x: new Value(props.initialPosition.x || 0),\n      y: new Value(props.initialPosition.y || 0),\n    };\n    this.snapAnchor = {\n      x: new Value(props.initialPosition.x || 0),\n      y: new Value(props.initialPosition.y || 0),\n      tension: new Value(DEFAULT_SNAP_TENSION),\n      damping: new Value(DEFAULT_SNAP_DAMPING),\n    };\n\n    this.initialize(props);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (!_.isEqual(nextProps.snapPoints, this.props.snapPoints)) {\n      this.initialize(nextProps);\n    }\n  }\n\n  initialize = (props) => {\n    const update = {\n      x: props.animatedValueX,\n      y: props.animatedValueY,\n    };\n\n    const clock = new Clock();\n\n    const dt = divide(diff(clock), 1000);\n\n    const obj = {\n      vx: new Value(0),\n      vy: new Value(0),\n      mass: 1,\n    };\n\n    const tossedTarget = {\n      x: add(\n        new Value(props.initialPosition.x || 0),\n        multiply(props.dragToss, obj.vx)\n      ),\n      y: add(this.target.y, multiply(props.dragToss, obj.vy)),\n    };\n\n    const permBuckets = [[], [], []];\n\n    const addSpring = (anchor, tension, influence, buckets = permBuckets) => {\n      buckets[0].push(\n        withInfluence(\n          influence,\n          this.target,\n          springBehavior(dt, this.target, obj, anchor, tension)\n        )\n      );\n    };\n\n    const addFriction = (damping, influence, buckets = permBuckets) => {\n      buckets[1].push(\n        withInfluence(\n          influence,\n          this.target,\n          frictionBehavior(dt, this.target, obj, damping)\n        )\n      );\n    };\n\n    const addGravity = (\n      anchor,\n      strength,\n      falloff,\n      influence,\n      buckets = permBuckets\n    ) => {\n      buckets[0].push(\n        withInfluence(\n          influence,\n          this.target,\n          gravityBehavior(dt, this.target, obj, anchor, strength, falloff)\n        )\n      );\n    };\n\n    const dragAnchor = { x: new Value(0), y: new Value(0) };\n    const dragBuckets = [[], [], []];\n    if (props.dragWithSpring) {\n      const { tension, damping } = props.dragWithSpring;\n      addSpring(dragAnchor, tension, null, dragBuckets);\n      addFriction(damping, null, dragBuckets);\n    } else {\n      dragBuckets[0].push(anchorBehavior(dt, this.target, obj, dragAnchor));\n    }\n\n    const handleStartDrag =\n      props.onDrag &&\n      call([this.target.x, this.target.y], ([x, y]) =>\n        props.onDrag({ nativeEvent: { x, y, state: 'start' } })\n      );\n\n    const snapBuckets = [[], [], []];\n\n    const updateSnapTo = snapTo(\n      tossedTarget,\n      props.snapPoints,\n      this.snapAnchor,\n      props.onSnap,\n      props.onDrag\n    );\n\n    addSpring(this.snapAnchor, this.snapAnchor.tension, null, snapBuckets);\n    addFriction(this.snapAnchor.damping, null, snapBuckets);\n\n    if (props.springPoints) {\n      props.springPoints.forEach((pt) => {\n        addSpring(pt, pt.tension, pt.influenceArea);\n        if (pt.damping) {\n          addFriction(pt.damping, pt.influenceArea);\n        }\n      });\n    }\n    if (props.gravityPoints) {\n      props.gravityPoints.forEach((pt) => {\n        const falloff = pt.falloff || DEFAULT_GRAVITY_FALLOF;\n        addGravity(pt, pt.strength, falloff, pt.influenceArea);\n        if (pt.damping) {\n          const influenceArea =\n            pt.influenceArea || influenceAreaWithRadius(1.4 * falloff, pt);\n          addFriction(pt.damping, influenceArea);\n        }\n      });\n    }\n    if (props.frictionAreas) {\n      props.frictionAreas.forEach((pt) => {\n        addFriction(pt.damping, pt.influenceArea);\n      });\n    }\n    if (props.boundaries) {\n      snapBuckets[0].push(\n        bounceBehavior(\n          dt,\n          this.target,\n          obj,\n          props.boundaries,\n          props.boundaries.bounce\n        )\n      );\n    }\n\n    // behaviors can go under one of three buckets depending on their priority\n    // we append to each bucket but in Interactable behaviors get added to the\n    // front, so we join in reverse order and then reverse the array.\n    const sortBuckets = (specialBuckets) => ({\n      x: specialBuckets\n        .map((b, idx) => [...permBuckets[idx], ...b].reverse().map((b) => b.x))\n        .reduce((acc, b) => acc.concat(b), []),\n      y: specialBuckets\n        .map((b, idx) => [...permBuckets[idx], ...b].reverse().map((b) => b.y))\n        .reduce((acc, b) => acc.concat(b), []),\n    });\n    const dragBehaviors = sortBuckets(dragBuckets);\n    const snapBehaviors = sortBuckets(snapBuckets);\n\n    const noMovementFrames = {\n      x: new Value(\n        props.verticalOnly ? ANIMATOR_PAUSE_CONSECUTIVE_FRAMES + 1 : 0\n      ),\n      y: new Value(\n        props.horizontalOnly ? ANIMATOR_PAUSE_CONSECUTIVE_FRAMES + 1 : 0\n      ),\n    };\n\n    const stopWhenNeeded = cond(\n      and(\n        greaterOrEq(noMovementFrames.x, ANIMATOR_PAUSE_CONSECUTIVE_FRAMES),\n        greaterOrEq(noMovementFrames.y, ANIMATOR_PAUSE_CONSECUTIVE_FRAMES)\n      ),\n      [\n        props.onStop\n          ? cond(\n              clockRunning(clock),\n              call([this.target.x, this.target.y], ([x, y]) =>\n                props.onStop({ nativeEvent: { x, y } })\n              )\n            )\n          : undefined,\n        stopClock(clock),\n      ],\n      startClock(clock)\n    );\n\n    const trans = (axis, vaxis, lowerBound, upperBound) => {\n      const dragging = new Value(0);\n      const start = new Value(0);\n      const x = this.target[axis];\n      const vx = obj[vaxis];\n      const anchor = dragAnchor[axis];\n      const drag = this.gesture[axis];\n      let advance = cond(\n        lessThan(abs(vx), ANIMATOR_PAUSE_ZERO_VELOCITY),\n        x,\n        add(x, multiply(vx, dt))\n      );\n      if (props.boundaries) {\n        advance = withLimits(\n          advance,\n          props.boundaries[lowerBound],\n          props.boundaries[upperBound]\n        );\n      }\n      const last = new Value(Number.MAX_SAFE_INTEGER);\n      const noMoveFrameCount = noMovementFrames[axis];\n      const testMovementFrames = block([\n        onChange(this.snapAnchor.x, set(last, Number.MAX_SAFE_INTEGER)),\n        onChange(this.snapAnchor.y, set(last, Number.MAX_SAFE_INTEGER)),\n        cond(\n          eq(advance, last),\n          set(noMoveFrameCount, add(noMoveFrameCount, 1)),\n          [set(last, advance), set(noMoveFrameCount, 0)]\n        ),\n      ]);\n      const step = cond(\n        eq(this.state, State.ACTIVE),\n        [\n          cond(dragging, 0, [\n            handleStartDrag,\n            startClock(clock),\n            set(dragging, 1),\n            set(start, x),\n          ]),\n          set(anchor, add(start, drag)),\n          cond(dt, dragBehaviors[axis]),\n        ],\n        [\n          cond(dragging, [updateSnapTo, set(dragging, 0)]),\n          cond(dt, snapBehaviors[axis]),\n          testMovementFrames,\n          stopWhenNeeded,\n        ]\n      );\n      const wrapStep = props.dragEnabled\n        ? cond(props.dragEnabled, step, [set(dragging, 1), stopClock(clock)])\n        : step;\n\n      // export some values to be available for imperative commands\n      this._dragging[axis] = dragging;\n      this._velocity[axis] = vx;\n\n      // update animatedValueX/animatedValueY\n      const doUpdateAnReturn = update[axis] ? set(update[axis], x) : x;\n\n      return block([wrapStep, set(x, advance), doUpdateAnReturn]);\n    };\n\n    // variables to be used to access reanimated values from imperative commands\n    this._dragging = {};\n    this._velocity = {};\n    this._position = this.target;\n    this._snapAnchor = this.snapAnchor;\n\n    this._transX = trans('x', 'vx', 'left', 'right');\n    this._transY = trans('y', 'vy', 'top', 'bottom');\n  };\n\n  render() {\n    const { children, style, horizontalOnly, verticalOnly } = this.props;\n    return (\n      <PanGestureHandler\n        maxPointers={1}\n        minDist={10}\n        enabled={this.props.dragEnabled}\n        onGestureEvent={this._onGestureEvent}\n        onHandlerStateChange={this._onGestureEvent}\n      >\n        <Animated.View\n          style={[\n            style,\n            {\n              transform: [\n                { translateX: verticalOnly ? 0 : this._transX },\n                { translateY: horizontalOnly ? 0 : this._transY },\n              ],\n            },\n          ]}\n        >\n          {children}\n        </Animated.View>\n      </PanGestureHandler>\n    );\n  }\n\n  // imperative commands\n  setVelocity({ x, y }) {\n    if (x !== undefined) {\n      this._dragging.x.setValue(1);\n      this._velocity.x.setValue(x);\n    }\n    if (y !== undefined) {\n      this._dragging.y.setValue(1);\n      this._velocity.y.setValue(y);\n    }\n  }\n\n  snapTo({ index }) {\n    const snapPoint = this.props.snapPoints[index];\n    this._snapAnchor.tension.setValue(\n      snapPoint.tension || DEFAULT_SNAP_TENSION\n    );\n    this._snapAnchor.damping.setValue(\n      snapPoint.damping || DEFAULT_SNAP_DAMPING\n    );\n    this._snapAnchor.x.setValue(snapPoint.x || 0);\n    this._snapAnchor.y.setValue(snapPoint.y || 0);\n    this.props.onSnap &&\n      this.props.onSnap({ nativeEvent: { ...snapPoint, index } });\n  }\n\n  changePosition({ x, y }) {\n    if (x !== undefined) {\n      this._dragging.x.setValue(1);\n      this._position.x.setValue(x);\n    }\n    if (y !== undefined) {\n      this._dragging.x.setValue(1);\n      this._position.y.setValue(y);\n    }\n  }\n\n  snapToPosition({ x, y }) {\n    this._snapAnchor.x.setValue(x || 0);\n    this._snapAnchor.y.setValue(y || 0);\n  }\n}\n\nexport default {\n  View: Interactable,\n};\n"]},"metadata":{},"sourceType":"module"}